@page "/map"
@using SharedComponents
@using SharedComponents.Maps

<h1>Google Map</h1>

<GoogleMap ref="@map1" Id="map1" Options="@mapOptions"></GoogleMap>
<GoogleMap ref="@map2" Id="map2" Options="@mapOptions"></GoogleMap>

<button onclick="@SyncBounds">Sync map bounds</button>

@functions {
    private GoogleMap map1;
    private GoogleMap map2;

    private MapOptions mapOptions;

    protected override void OnInit()
    {
        mapOptions = new MapOptions()
        {
            zoom = 13,
            center = new LatLngLiteral()
            {
                lat = 13.505892,
                lng = 100.8162
            },
            mapTypeId = MapTypeId.Roadmap
        };
    }

    private async Task SyncBounds()
    {
        var bounds = await map1.GetBounds();
        await map2.FitBounds(bounds);
    }
}